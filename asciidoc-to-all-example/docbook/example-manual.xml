<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc?>
<?asciidoc-numbered?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>Example Manual</title>
<date>2014-09-09</date>
<author>
<personname>
<firstname>Doc</firstname>
<surname>Writer</surname>
</personname>
<email>doc.writer@example.org</email>
</author>
<authorinitials>DW</authorinitials>
<revhistory>
<revision>
<revnumber>1.0.0-SNAPSHOT</revnumber>
<date>2014-09-09</date>
<authorinitials>DW</authorinitials>
</revision>
</revhistory>
</info>
<simpara>This is a user manual for an example project.</simpara>
<section xml:id="introduction">
<title>Introduction</title>
<simpara>This project does something.
We just haven&#8217;t decided what that is yet.</simpara>
</section>
<section xml:id="source-code">
<title>Source Code</title>
<formalpara>
<title>Java code from project</title>
<para>
<programlisting language="java" linenumbering="unnumbered">public boolean contains(String haystack, String needle) {
    return haystack.contains(needle);
}</programlisting>
</para>
</formalpara>
<simpara>This page was built by the following command:</simpara>
<literallayout class="monospaced">$ ./gradlew asciidoctor</literallayout>
</section>
<section xml:id="images">
<title>Images</title>
<informalfigure role="thumb">
<mediaobject>
<imageobject>
<imagedata fileref="./images/sunset.jpg" width="75%" scalefit="1"/>
</imageobject>
<textobject><phrase>sunset</phrase></textobject>
</mediaobject>
</informalfigure>
</section>
<section xml:id="attributes">
<title>Attributes</title>
<variablelist>
<title>Built-in</title>
<varlistentry>
<term>asciidoctor-version</term>
<listitem>
<simpara>1.5.4</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>safe-mode-name</term>
<listitem>
<simpara>unsafe</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>docdir</term>
<listitem>
<simpara>/home/travis/build/rwinch/asciidoctor-gradle-examples/asciidoc-to-all-example/src/docs/asciidoc</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>docfile</term>
<listitem>
<simpara>/home/travis/build/rwinch/asciidoctor-gradle-examples/asciidoc-to-all-example/src/docs/asciidoc/example-manual.adoc</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>imagesdir</term>
<listitem>
<simpara>./images</simpara>
</listitem>
</varlistentry>
</variablelist>
<variablelist>
<title>Custom</title>
<varlistentry>
<term>project-version</term>
<listitem>
<simpara>1.0.0-SNAPSHOT</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>sourcedir</term>
<listitem>
<simpara>/home/travis/build/rwinch/asciidoctor-gradle-examples/asciidoc-to-all-example/src/main/java</simpara>
</listitem>
</varlistentry>
<varlistentry>
<term>endpoint-url</term>
<listitem>
<simpara><link xl:href="http://example.org">http://example.org</link></simpara>
</listitem>
</varlistentry>
</variablelist>
</section>
<section xml:id="includes">
<title>Includes</title>
<example>
<title>include::subdir/_b.adoc[]</title>
<simpara>content from <emphasis>src/docs/asciidoc/subdir/_b.adoc</emphasis>.</simpara>
<example>
<title>include::_c.adoc[]</title>
<simpara>content from <emphasis>src/docs/asciidoc/subdir/c.adoc</emphasis>.</simpara>
</example>
</example>
<warning>
<simpara>Includes can be tricky!</simpara>
</warning>
</section>
<section xml:id="build-gradle">
<title>build.gradle</title>
<programlisting language="groovy" linenumbering="unnumbered">buildscript {
	dependencies {
		classpath 'org.asciidoctor:asciidoctorj-epub3:1.5.0-alpha.6'
		classpath 'org.asciidoctor:asciidoctorj-pdf:1.5.0-alpha.11'
	}
}

plugins {
  id 'org.asciidoctor.convert' version '1.5.3'
}

apply plugin: 'java'
apply plugin: 'org.asciidoctor.convert'

version = '1.0.0-SNAPSHOT'

asciidoctorj {
	version = '1.5.4'
}

asciidoctor {
	backends    'html5','pdf','epub3','docbook'
	attributes	'build-gradle': file('build.gradle'),
				'sourcedir': project.sourceSets.main.java.srcDirs[0],
				'endpoint-url': 'http://example.org',
				'source-highlighter' : 'coderay',
				'imagesdir': './images',
				'toc':'left',
				'icons': 'font',
				'setanchors':'true',
				'idprefix':'',
				'idseparator':'-',
				'docinfo1':'true'
}</programlisting>
</section>
</article>